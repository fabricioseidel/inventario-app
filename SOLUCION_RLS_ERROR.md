# üîß Soluci√≥n para Error de Row-Level Security (RLS)

## Error Detectado:
```
WARN push categories error {"code": "42501", "details": null, "hint": null, "message": "new row violates row-level security policy (USING expression) for table \"categories\""}
```

## Problema:
La tabla `categories` en Supabase tiene pol√≠ticas de seguridad (RLS) que impiden insertar nuevas categor√≠as.

## ‚úÖ Soluci√≥n 1: Deshabilitar RLS para categories (R√ÅPIDO)

### Ejecutar en Supabase SQL Editor:

```sql
-- Deshabilitar RLS para la tabla categories
ALTER TABLE categories DISABLE ROW LEVEL SECURITY;
```

## ‚úÖ Soluci√≥n 2: Crear pol√≠tica permisiva (RECOMENDADO)

### Ejecutar en Supabase SQL Editor:

```sql
-- Crear pol√≠tica para permitir inserci√≥n de categor√≠as
CREATE POLICY "Allow categories insert" ON categories
FOR INSERT WITH CHECK (true);

-- Crear pol√≠tica para permitir lectura de categor√≠as  
CREATE POLICY "Allow categories select" ON categories
FOR SELECT USING (true);

-- Crear pol√≠tica para permitir actualizaci√≥n de categor√≠as
CREATE POLICY "Allow categories update" ON categories  
FOR UPDATE USING (true);
```

## ‚úÖ Soluci√≥n 3: Pol√≠tica basada en autenticaci√≥n

### Si quieres m√°s seguridad:

```sql
-- Solo usuarios autenticados pueden modificar categor√≠as
CREATE POLICY "Authenticated users can manage categories" ON categories
FOR ALL USING (auth.role() = 'authenticated');
```

## üéØ Recomendaci√≥n:

**Usar Soluci√≥n 2** - Es la m√°s segura y funcional.

## üìù Pasos:

1. **Ir a tu proyecto Supabase:** https://supabase.com/dashboard
2. **Navegar a:** SQL Editor
3. **Ejecutar el c√≥digo de la Soluci√≥n 2**
4. **Probar la sincronizaci√≥n nuevamente**

## ‚ö†Ô∏è Nota:

Este error **NO afecta la funcionalidad principal** de la app. Las categor√≠as predeterminadas ya funcionan, solo no se pueden sincronizar nuevas categor√≠as al servidor.

## üéâ Estado actual:

- ‚úÖ App funcionando correctamente
- ‚úÖ Base de datos local funcionando
- ‚úÖ Sincronizaci√≥n de productos: OK
- ‚úÖ Sincronizaci√≥n de ventas: OK  
- ‚ö†Ô∏è Sincronizaci√≥n de categor√≠as: Error RLS (solucionable)
- ‚úÖ Todas las funcionalidades principales: FUNCIONANDO